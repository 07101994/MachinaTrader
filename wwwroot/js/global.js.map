{"version":3,"sources":["src/global.js"],"names":["jsInterval","signalrConnections","runJsInterval","script","str","delay","setInterval","el","clearJsInterval","key","Object","prototype","hasOwnProperty","call","clearInterval","addSignalrClient","name","connection","cleanSignalr","stop","preparePage"],"mappings":"AAAA;AAEA,IAAMA,aAAa,EAAnB;AACA,IAAMC,qBAAqB,EAA3B;AAEA;;AACA,SAASC,aAAT,CAAuBC,MAAvB,EAA+BC,GAA/B,EAAoCC,KAApC,EAA2C;AACzC,MAAI,CAACL,WAAWI,GAAX,CAAL,EAAsB;AACpB;AACAJ,eAAWI,GAAX,IAAkBE,YAAY,UAACC,EAAD;AAAA,aAAQA,GAAGJ,MAAX;AAAA,KAAZ,EAA+BE,KAA/B,CAAlB;AACD;AACF;;AAED,SAASG,eAAT,GAA2B;AACzB,OAAK,IAAMC,GAAX,IAAkBT,UAAlB,EAA8B;AAC5B,QAAIU,OAAOC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCb,UAArC,EAAiDS,GAAjD,CAAJ,EAA2D;AACzDK,oBAAcd,WAAWS,GAAX,CAAd;AACAT,iBAAWS,GAAX,IAAkB,IAAlB;AACA,aAAOT,WAAWS,GAAX,CAAP;AACD;AACF;AACF;AAED;;;AACA,SAASM,gBAAT,CAA0BC,IAA1B,EAAgCC,UAAhC,EAA4C;AAC1C,MAAI,CAAChB,mBAAmBe,IAAnB,CAAL,EAA+B;AAC7B;AACAf,uBAAmBe,IAAnB,IAA2BC,UAA3B;AACD;AACF;;AAED,SAASC,YAAT,GAAwB;AACtB,OAAK,IAAMT,GAAX,IAAkBR,kBAAlB,EAAsC;AACpC,QAAIS,OAAOC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCZ,kBAArC,EAAyDQ,GAAzD,CAAJ,EAAmE;AACjE;AACA;AACAR,yBAAmBQ,GAAnB,EAAwBU,IAAxB;AACA,aAAOlB,mBAAmBQ,GAAnB,CAAP;AACD;AACF;AACF;;AAED,SAASW,WAAT,GAAuB;AACrBZ;AACAU;AACD","sourcesContent":["// Wire up signalr and js intervals -> preparePage() is hooked from navigation script on page change\r\n\r\nconst jsInterval = {}\r\nconst signalrConnections = {}\r\n\r\n/* eslint-disable no-unused-vars */\r\nfunction runJsInterval(script, str, delay) {\r\n  if (!jsInterval[str]) {\r\n    // console.log(\"Not in array\")\r\n    jsInterval[str] = setInterval((el) => el.script, delay)\r\n  }\r\n}\r\n\r\nfunction clearJsInterval() {\r\n  for (const key in jsInterval) {\r\n    if (Object.prototype.hasOwnProperty.call(jsInterval, key)) {\r\n      clearInterval(jsInterval[key])\r\n      jsInterval[key] = null\r\n      delete jsInterval[key]\r\n    }\r\n  }\r\n}\r\n\r\n/* eslint-disable no-unused-vars */\r\nfunction addSignalrClient(name, connection) {\r\n  if (!signalrConnections[name]) {\r\n    // console.log(\"Not in array\")\r\n    signalrConnections[name] = connection\r\n  }\r\n}\r\n\r\nfunction cleanSignalr() {\r\n  for (const key in signalrConnections) {\r\n    if (Object.prototype.hasOwnProperty.call(signalrConnections, key)) {\r\n      // console.log(\"Disconnect\")\r\n      // console.log(signalrConnections[key])\r\n      signalrConnections[key].stop()\r\n      delete signalrConnections[key]\r\n    }\r\n  }\r\n}\r\n\r\nfunction preparePage() {\r\n  clearJsInterval()\r\n  cleanSignalr()\r\n}\r\n"],"file":"global.js"}